/*
 * element.js DOM Element Model v0.1.1 for Internet Explorer < 8
 *
 * Copyright 2012, Dmitriy Pakhtinov ( spb.piksel@gmail.com )
 *
 * http://spb-piksel.ru/
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Update: 09-05-2012
 */
(function(d,p){var b=d.document;if(!d.Element&&b.attachEvent){var k=!1,q=b.getElementById,i=b.getElementsByTagName,r=b.createElement,l=b.createDocumentFragment,g=b.attachEvent,m=l(),j=[],n={},o=function(){},h,s=function(){"innerHTML"===d.event.propertyName&&c(d.event.srcElement)},c=function(a,b){var c=j.length,d,g,e,f;if(a&&a.nodeType||!a)a=a&&a.getElementsByTagName("*")||i("*");for(d=a.length;f=a[--d];)if(1===f.nodeType)if(b)f[b]!==h[b]&&(f[b]=h[b]);else{for(g=c;e=j[--g];)f[e]!==h[e]&&(f[e]=h[e]);
f.__propChangeAttached||(f.__propChangeAttached=1,f.attachEvent("onpropertychange",s))}return a[0]||null};o.prototype=h=b.createComment("");h.attachEvent("onpropertychange",function(){var a=d.event.propertyName;n[a]===p&&(n[a]=j.push(a)-1);c(b,a);c(m,a)});b.documentElement.firstChild.appendChild(h);b.getElementById=function(a){return c([q(a)])};b.createElement=function(a){a=c([r(a)]);"INPUT"!==a.nodeName&&m.appendChild(a);return a};b.createDocumentFragment=function(){return c([l()])};d.Element=o;
if("complete"===b.readyState)c();else{var e=function(){!k&&"complete"===b.readyState&&(k=!0,b.detachEvent("onreadystatechange",e),b.attachEvent=g,b.getElementsByTagName=i,c())};g("onreadystatechange",e);d.attachEvent("onload",e);b.attachEvent=function(a,c){if("onreadystatechange"===a){b.detachEvent(a,e);var d=g(a,c);g(a,e);return d}return g(a,c)};b.getElementsByTagName=function(a){c();return i(a)}}}})(window);
