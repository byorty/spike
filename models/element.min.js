/*
 * element.js DOM Element Model v0.0.3 for Internet Explorer < 8
 *
 * Copyright 2012, Dmitriy Pakhtinov ( spb.piksel@gmail.com )
 *
 * http://spb-piksel.ru/
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Update: 23-04-2012
 */
(function(d){var b=d.document;if(!d.Element&&b.attachEvent){var k=!1,n=b.getElementById,o=b.createElement,l=b.createDocumentFragment,m=l(),i={},e=function(){};e.prototype=b.createComment("");e.prototype.attachEvent("onpropertychange",function(){var a=d.event.propertyName;i[a]=1;for(var f=b.getElementsByTagName("*"),c=f.length;elem=f[--c];)1===elem.nodeType&&(elem[a]=e.prototype[a]);f=m.getElementsByTagName("*");for(c=f.length;elem=f[--c];)1===elem.nodeType&&(elem[a]=e.prototype[a])});b.documentElement.firstChild.appendChild(e.prototype);
d.Element=e;var c=function(a){if(a&&1===a.nodeType){for(var b in i)Object.prototype.hasOwnProperty.call(i,b)&&(a[b]=e.prototype[b]);a.attachEvent("onpropertychange",p)}return a},p=function(){if("innerHTML"===d.event.propertyName)for(var a=c(d.event.srcElement).getElementsByTagName("*"),b=a.length;c(a[--b]););},j=function(){if(!k){k=!0;for(var a=b.getElementsByTagName("*"),f=a.length;c(a[--f]););}};b.getElementById=function(a){return c(n(a))};b.createElement=function(a){return m.appendChild(c(o(a)))};
b.createDocumentFragment=function(){return c(l())};if("complete"===b.readyState)j();else{var g=b.attachEvent,h=function(){"complete"===b.readyState&&(b.detachEvent("onreadystatechange",h),j(),b.attachEvent=g)};b.attachEvent=function(a,c){if("onreadystatechange"===a){b.detachEvent(a,h);var d=g(a,c);g(a,h);return d}return g(a,c)};g("onreadystatechange",h);d.attachEvent("onload",j)}}})(window);
