/*
 * element.js DOM Element Model v0.0.3 for Internet Explorer < 8
 *
 * Copyright 2012, Dmitriy Pakhtinov ( spb.piksel@gmail.com )
 *
 * http://spb-piksel.ru/
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Update: 24-04-2012
 */
(function(e){var b=e.document;if(!e.Element&&b.attachEvent){var k=!1,n=b.getElementById,o=b.createElement,l=b.createDocumentFragment,m=l(),i={},d=function(){};d.prototype=b.createComment("");d.prototype.attachEvent("onpropertychange",function(){var a=e.event.propertyName;i[a]=1;for(var f=b.getElementsByTagName("*"),c=f.length;elem=f[--c];)1===elem.nodeType&&(elem[a]=d.prototype[a]);f=m.getElementsByTagName("*");for(c=f.length;elem=f[--c];)1===elem.nodeType&&(elem[a]=d.prototype[a])});b.documentElement.firstChild.appendChild(d.prototype);
e.Element=d;var c=function(a){if(a&&1===a.nodeType){for(var b in i)Object.prototype.hasOwnProperty.call(i,b)&&a[b]!==d.prototype[b]&&(a[b]=d.prototype[b]);a.__propChangeAttached||(a.__propChangeAttached=1,a.attachEvent("onpropertychange",p))}return a},p=function(){if("innerHTML"===e.event.propertyName)for(var a=c(e.event.srcElement).getElementsByTagName("*"),b=a.length;c(a[--b]););},j=function(){if(!k){k=!0;for(var a=b.getElementsByTagName("*"),f=a.length;c(a[--f]););}};b.getElementById=function(a){return c(n(a))};
b.createElement=function(a){return m.appendChild(c(o(a)))};b.createDocumentFragment=function(){return c(l())};if("complete"===b.readyState)j();else{var g=b.attachEvent,h=function(){"complete"===b.readyState&&(b.detachEvent("onreadystatechange",h),j(),b.attachEvent=g)};b.attachEvent=function(a,c){if("onreadystatechange"===a){b.detachEvent(a,h);var d=g(a,c);g(a,h);return d}return g(a,c)};g("onreadystatechange",h);e.attachEvent("onload",j)}}})(window);
