/*
 * element.js DOM Element Model v0.1.2 for Internet Explorer < 8
 *
 * Copyright 2012, Dmitriy Pakhtinov ( spb.piksel@gmail.com )
 *
 * http://spb-piksel.ru/
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Update: 09-05-2012
 */
(function(e,l){var b=e.document;if(!e.Element&&b.attachEvent){var m=!1,p=b.getElementById,j=b.getElementsByTagName,q=b.createElement,r=b.createDocumentFragment,g=b.attachEvent,i=[],k=[],n={},o=function(){},h,s=function(){"innerHTML"===e.event.propertyName&&d(e.event.srcElement)},d=function(a,b){var d=k.length,e,g,f,c;if(a&&a.nodeType||!a)a=a&&a.getElementsByTagName("*")||j("*");for(e=a.length;c=a[--e];)if(1===c.nodeType){if(c.$_idx&&c.parentNode&&c.document&&11!==c.document.nodeType){for(i.splice(--c.$_idx,
1);g=i[c.$_idx++];)g.$_idx=c.$_idx;c.$_idx=l}if(b)c[b]!==h[b]&&(c[b]=h[b]);else{for(g=d;f=k[--g];)c[f]!==h[f]&&(c[f]=h[f]);c.__propChangeAttached||(c.__propChangeAttached=1,c.attachEvent("onpropertychange",s))}}return a[0]||null};o.prototype=h=b.createComment("");h.attachEvent("onpropertychange",function(){var a=e.event.propertyName;n[a]===l&&(n[a]=k.push(a)-1);d(b,a);d(i,a)});b.documentElement.firstChild.appendChild(h);b.getElementById=function(a){return d([p(a)])};b.createElement=function(a){a=
q(a);a.$_idx=i.push(a);d(i);return a};b.createDocumentFragment=function(){return d([r()])};e.Element=o;if("complete"===b.readyState)d();else{var f=function(){!m&&"complete"===b.readyState&&(m=!0,b.detachEvent("onreadystatechange",f),b.attachEvent=g,b.getElementsByTagName=j,d())};g("onreadystatechange",f);e.attachEvent("onload",f);b.attachEvent=function(a,d){if("onreadystatechange"===a){b.detachEvent(a,f);var e=g(a,d);g(a,f);return e}return g(a,d)};b.getElementsByTagName=function(a){d();return j(a)}}}})(window);
