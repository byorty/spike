/*
 * CSS3 Selectors API for Internet Explorer v1.0
 *
 * Copyright 2012, Dmitriy Pakhtinov ( spb.piksel@gmail.com )
 *
 * http://spb-piksel.ru/
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Update: 23-05-2012
 */
(function(v,E){function z(c,b,a,d,g,e,i,h,p,f){var k,l;if(b&&(b=(k=w[b]?w[b](c):null!=c[b]?c[b]:c.getAttribute(b))+"",!(null==k?"!="===a:"="===a?b===d:"*="===a?0<=b.indexOf(d):"~="===a?0<=(" "+b+" ").indexOf(" "+d+" "):!d||!a?b&&!1!==k:"!="===a?b!==d:"^="===a?0===b.indexOf(d):"$="===a?b.substr(b.length-d.length)===d:"|="===a&&(b===d||b.substr(0,d.length+1)===d+"-"))))return 0;if("."===g){if(-1===(" "+c.className+" ").indexOf(e))return 0}else if("#"===g&&c.id!==e)return 0;if(i&&p){if(f&&(l=c.parentNode)&&
(!c.a||l.c!==l.children.length)){b=0;for(a=l.firstChild;a;a=a.nextSibling)1===a.nodeType&&(a.a=++b);l.b=b;l.c=l.children.length}if(!p(c,h))return 0}return 1}function A(c,b,a,d,g,e,i,h,p,f,k,l){var j,q=0,c=c&&("*"===c?"":c.replace("|",":").toUpperCase()),d=d&&d.replace(/^(?:"(.*)"|'(.*)')$/,"$1$2").replace(/\\/g,""),b=(b=!b&&d||b)&&"class"===b?"className":"for"===b?"htmlFor":b,i="."===e&&" "+i+" "||i,k=k||l!==E&&",";if(!(j=s[h]&&s[h][p])&&p)throw Error("Unknown pseudo selector: "+p);if(j&&f)switch(p){case "nth-child":case "nth-last-child":f=
f.replace(/^\+|\s*/g,"");f=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===f&&"2n"||"odd"===f&&"2n+1"||!/\D/.test(f)&&"0n+"+f||f);f=[f[1]+(f[2]||1)-0,f[3]-0];q=!(1===f[0]&&0===f[1]);break;default:f=0<f.indexOf("\u0001")?f.replace(/\x01/g,"(").replace(/\x02/g,")"):f}return[c,b,a,d,g,e,i,h,p,f,k,l,j,q]}function t(c,b){return-1===c.indexOf("(")?c:b||-1!==c.indexOf(":not")?c.replace(/([\s\S]*\([^\(]*)\(([^\(\)]*)\)([^\)]*\)[\s\S]*)/g,function(a,b,c,e){return t(b+"\u0001"+c+"\u0002"+e,1)}):c}function u(c,b,
a,d,g){var e,i,h,p=[],b=b&&(b.nodeType?[b]:b)||[m],d=d&&(d.nodeType?[d]:d)||b;t(c).replace(r,function(f,k,l,j,q,m,n,r,o,u,v,x,w,s){var t,f=[],y=0;if(!k&&!q&&!n&&!o){if((t=c.charAt(s))&&t.replace(/\s+/g,""))throw Error("Syntax error: "+c.substring(s));}else{j=A(k,l,j,q,m,n,r,o,u,v,x,w);k=j[0];l=j[1];n=j[5];o=j[7];x=j[10];for(i=d.length;m=d[--i];){" "===g?q=m.getElementsByTagName(k||"*"):">"===g?q=m.children:"~"===g||"+"===g?(q=[],h=m,y="+"===g?2:1):(i=0,q=d);for(e=0;h=y?h.nextSibling:q[e++];){if((!k||
"*"===k)&&1===h.nodeType||h.nodeName===k){if((l||n||o)&&!z(h,l,j[2],j[3],n,j[6],o,j[9],j[12],j[13])){if(2===y)break;continue}if(","===x){if(!a||a===h)p[h.sourceIndex]=h}else f[f.length]=h}if(2===y&&1===h.nodeType)break}}","===(g=x)?(d=b,g=" "):d=f}});e=0;b=[];for(i=p.length;e<i;)if(h=p[e++])b[b.length]=h;return b}var m=v.document,n=v.Element,n=n&&n.prototype,r=/\s*(?:(\*|(?:(?:\*|[\w\-]+)\|)?(?:[\w\-]+|\*)))?(?:\[\s*(?:((?:[\w\-]+\|)?[\w\-]+)\s*((?:~|\^|\$|\*|\||!)?=)\s*)?((?:".*?(?:(?:[\\]{2}(?="))|[^\\])"|'.*?(?:(?:[\\]{2}(?='))|[^\\])'|[^\s\]]*)?)\s*(?:(i)\s*)?\])?(?:(\.|#)([\w\-]+))?(?:(:(?::)?)([\w\-]+)(?:\(\s*([^)]+)\s*\))?)?(?:(?:\s*(?=\s))?(?:(?:\s(?=,|>|\+|~))?([\s,>+~](?!$))|(\s*$))?)?/g,
o=m.querySelectorAll?[n.querySelectorAll,m.querySelectorAll]:0,w={href:function(c){return c.getAttribute("href",2)},type:function(c){return c.getAttribute("type")},style:function(c){var b=c.getAttribute("style");return"object"===typeof b?c.style.cssText||"":b}},s=function(){function c(a,b){var c=b-a[1];return 0===a[0]?0===c:0===c%a[0]&&0<=c/a[0]}var b={":":{"nth-child":function(a,b){return c(b,a.a||1)},"nth-last-child":function(a,b){var g=a.parentNode;return c(b,(g&&(g.b||g.children.length||0)+1||
2)-(a.a||1))},"first-child":function(a){a=a.previousSibling;return!(a&&(3===a.nodeType?a.previousSibling:1))},"last-child":function(a){a=a.nextSibling;return!(a&&(3===a.nodeType?a.nextSibling:1))},empty:function(a){return!a.firstChild},enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},not:function(a,b){return 0<u(b,0,0,a).length?!1:!0},contains:function(a,b){return 0<=(a.textContent||a.innerText||a.nodeValue||
a.value||"").indexOf(b)}},"::":{}};b[":"]["only-child"]=function(a){return b[":"]["first-child"](a)&&b[":"]["last-child"](a)};return b}();try{m.querySelector("p:last-child")}catch(F){var B,C,D;m.querySelectorAll=B=function(c,b){var a;a=[];var d=1;r.lastIndex=0;if(o){var g,e,i;e=/^\s*[>+~]/.test(c);if(9===this.nodeType)try{a=o[1].call(this,c,b),d=0}catch(h){}else if(1===this.nodeType&&"OBJECT"!==this.nodeName)if(e&&(g=this.parentNode)){i=(e=this.getAttribute("id"))&&e.replace(/'/g,"\\$&")||"__qsaEngine__";
!e&&this.setAttribute("id",i);try{a=o[0].call(g,"[id='"+i+"'] "+c,b),d=0}catch(m){}!e&&this.removeAttribute("id")}else if(!e)try{a=o[0].call(this,c,b),d=0}catch(f){}}if(d){if(9!==this.nodeType){do if(a=r.exec(c),a=A(a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12]),!a[10]||" "===a[10])if((!a[0]||a[0]&&this.nodeName===a[0].toUpperCase())&&z(elem,a[1],a[2],a[3],a[5],a[6],a[7],a[9],a[12],a[13])){if(" "===a[10]){c=c.substr(r.lastIndex,c.length-r.lastIndex);break}}else break;else break;while(r.lastIndex<
c.length);r.lastIndex=0}a=u(c,this,0,b," ")}return a};m.querySelector=C=function(c,b){return m.querySelectorAll(c,b)[0]||null};m.getElementsByClassName=D=function(c){var b=[];if(c=c.replace(/^[\s]+|[\s](?=\s)|[\s]+$/g,"")){if(o)return(9===this.nodeType?o[1]:o[0]).call(this,c.replace(/\s+(?=\S)|^/g,"."));for(var a,d=0,g,e,i=this.getElementsByTagName("*");e=i[d++];){for(a=c.length;g=c[--a];)if(!e.className||-1===(" "+e.className+" ").indexOf(" "+g+" ")){e=null;break}e&&(b[b.length]=e)}}return b};try{n.querySelectorAll=
B,n.querySelector=C,n.getElementsByClassName=D,n.matchesSelector=function(c,b){return 0<u(c,0,this,b," ").length}}catch(G){}}})(window);
